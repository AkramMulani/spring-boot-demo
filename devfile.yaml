schemaVersion: 2.2.0
metadata:
  name: simple-devfile-spring-boot
  namespace: admin-che
projects:
  - name: jetbrains-editor-spring-demo1
    git:
      remotes:
        origin: https://github.com/AkramMulani/spring-boot-demo.git
components:
  - name: devtools
    container:
      image: quay.io/devfile/universal-developer-image:latest
      memoryLimit: 1Gi
      env:
        - name: DOCKER
          value: podman
        - name: KUBEDOCK_ENABLED
          value: 'true'
commands:
  - id: generic-build
    exec:
      commandLine: 'mvn clean install'
      component: devtools
      label: Build-Project
      workingDir: ${PROJECT_SOURCE}
  - id: generic-run
    exec:
      commandLine: 'mvn spring-boot:run'
      component: devtools
      label: Run-Project
      workingDir: ${PROJECT_SOURCE}
events:
  postStart:
    - generic-build
    - generic-run
